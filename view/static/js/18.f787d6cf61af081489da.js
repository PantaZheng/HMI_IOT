webpackJsonp([18],{AXCd:function(t,e){},JiaQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"checkProjectDetailHeader",data:function(){return{pName:sessionStorage.getItem("pname")}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"header-left v-center"},[e("router-link",{attrs:{to:"/check"}},[e("svg",{staticClass:"icon arrow",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#iconicon-copy-copy"}})])]),this._v(" "),e("el-divider",{attrs:{direction:"vertical"}})],1),this._v(" "),e("div",{staticClass:"header-title v-center"},[this._v("\n    "+this._s(this.pName)+"\n  ")])])},staticRenderFns:[]};var c=i("VU/8")(a,s,!1,function(t){i("AXCd")},"data-v-a29dc2f8",null).exports,n=i("OMN4"),r=i.n(n),l={name:"checkProjectDetailForm",data:function(){return{project:"",okProject:!1,taskList:[],name:"",startTime:"",endTime:"",content:"",target:"",managerName:""}},methods:{goCheckProjectTask:function(t,e){sessionStorage.setItem("taskID",t),sessionStorage.setItem("taskName",e),this.$router.push("/checkProjectTask")},getProject:function(){r.a.get(this.url+"/project/id/"+sessionStorage.getItem("pid")).then(this.getProjectSucc)},getProjectSucc:function(t){(t=t.data)&&(this.project=t,this.name=t.name,this.startTime=t.startTime,this.endTime=t.endTime,this.content=t.content,this.target=t.target,this.managerName=t.managerName)},getTaskList:function(){r.a.get(this.url+"/module/project/"+sessionStorage.getItem("pid")).then(this.getTaskListSucc)},getTaskListSucc:function(t){(t=t.data)&&(this.taskList=t)},submit:function(){var t=this;this.$axios({method:"put",url:this.url+"/project/",data:{id:parseInt(sessionStorage.getItem("pid")),state:this.Run,name:this.name,managerID:this.project.managerID,startTime:this.startTime,endTime:this.endTime,content:this.content,target:this.target}}).then(function(e){200===e.status?(alert("提交成功！"),t.$router.push("/check")):alert(e.data)}).catch(function(t){alert(t)}),this.okProject=!1}},mounted:function(){this.getProject(),this.getTaskList()}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-bg"},[i("el-divider"),t._v(" "),i("div",{staticClass:"weui-cell"},[t._m(0),t._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[t._v("\n        "+t._s(t.name)+"\n      ")])])]),t._v(" "),i("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.startTime,expression:"startTime"}],staticClass:"weui_input",attrs:{type:"date"},domProps:{value:t.startTime},on:{input:function(e){e.target.composing||(t.startTime=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"weui-cell"},[t._m(2),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.endTime,expression:"endTime"}],staticClass:"weui_input",attrs:{type:"date"},domProps:{value:t.endTime},on:{input:function(e){e.target.composing||(t.endTime=e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"weui-cell"},[t._m(3),t._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[t._v("\n        "+t._s(t.managerName)+"\n      ")])])]),t._v(" "),i("div",{staticClass:"weui-cell weui-cells_form"},[t._m(4),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入项目主要内容",clearable:""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),t._v(" "),i("div",{staticClass:"weui-cell weui-cells_form"},[t._m(5),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入项目考核指标",clearable:""},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}})],1),t._v(" "),i("el-divider"),t._v(" "),i("div",{staticClass:"row"},[i("span",{staticClass:"v-center"},[i("svg",{staticClass:"icon taskIcon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#iconmokuai"}})]),t._v("\n        课题安排\n      ")])]),t._v(" "),i("el-divider"),t._v(" "),t._l(t.taskList,function(e){return i("div",{key:e.id},[i("div",{staticClass:"row",on:{click:function(i){return t.goCheckProjectTask(e.id,e.name)}}},[i("span",{staticClass:"taskName"},[i("svg",{staticClass:"icon projectIcon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icondian3"}})]),t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),i("span",{staticClass:"delIcon"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#iconicon_signal"}})]),t._v("\n          "+t._s(e.leaderName)+"\n        ")])]),t._v(" "),i("el-divider")],1)}),t._v(" "),i("div",{staticClass:"weui-btn-area"},[i("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"},on:{click:function(e){t.okProject=!0}}},[t._v("通过审核")])]),t._v(" "),i("el-dialog",{attrs:{title:"提示",visible:t.okProject,width:"70%"},on:{"update:visible":function(e){t.okProject=e}}},[i("span",[t._v("确定通过《"+t._s(t.name)+"》的审核吗？")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.okProject=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)])],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("项目名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("开始时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("结束时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("项目负责人")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("项目主要内容")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("考核指标")])])}]};var u=i("VU/8")(l,o,!1,function(t){i("Lppz")},"data-v-1e0f0999",null).exports,d={name:"checkProjectDetail",components:{CheckProjectDetailHeader:c,CheckProjectDetailForm:u}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("check-project-detail-header"),this._v(" "),e("check-project-detail-form")],1)},staticRenderFns:[]};var _=i("VU/8")(d,v,!1,function(t){i("Nc+E")},"data-v-2148cff4",null);e.default=_.exports},Lppz:function(t,e){},"Nc+E":function(t,e){}});
//# sourceMappingURL=18.f787d6cf61af081489da.js.map