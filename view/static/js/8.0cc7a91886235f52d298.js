webpackJsonp([8],{"6CYN":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("ifoU"),a=s.n(i),n=s("lbHh"),r=s.n(n),o=s("OMN4"),c=s.n(o),l={name:"runTask",props:{task:[]},data:function(){return{tag:this.Run}},methods:{goTask:function(t,e){sessionStorage.setItem("taskName",t),sessionStorage.setItem("taskID",e),this.$router.push("/task")}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.task,function(e){return e.state===t.tag?s("div",{key:e.id},[s("div",{staticClass:"weui-cell cell",on:{click:function(s){return t.goTask(e.name,e.id)}}},[s("div",{staticClass:"weui-cell__hd textColor"},[s("span",{staticClass:"iconMargin"},[s("svg",{staticClass:"icon taskIcon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#iconmokuai1"}})])]),t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),s("div",{staticClass:"weui-cell__bd textColor"},[s("label",{staticClass:"weui-label right"},[s("svg",{staticClass:"icon iconMargin iconColor",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#iconfuzeren3"}})]),t._v("\n          "+t._s(e.leaderName)+"\n        ")])])]),t._v(" "),s("el-divider")],1):t._e()}),0)},staticRenderFns:[]};var d=s("VU/8")(l,u,!1,function(t){s("g4TE")},"data-v-73d6178e",null).exports,h={name:"finishedTask",props:{task:[]},data:function(){return{tag:this.Finished}},methods:{goTask:function(t,e){sessionStorage.setItem("taskName",t),sessionStorage.setItem("taskID",e),this.$router.push("/task")}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.task,function(e){return e.tag===t.tag?s("div",{key:e.id},[s("div",{staticClass:"weui-cell cell",on:{click:function(s){return t.goTask(e.name,e.id)}}},[s("div",{staticClass:"weui-cell__hd textColor"},[s("span",{staticClass:"iconMargin"},[s("svg",{staticClass:"icon taskIcon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#iconmokuai1"}})])]),t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),s("div",{staticClass:"weui-cell__bd textColor"},[s("label",{staticClass:"weui-label right"},[s("svg",{staticClass:"icon iconMargin iconColor",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#iconfuzeren3"}})]),t._v("\n          "+t._s(e.leader.name)+"\n        ")])])]),t._v(" "),s("el-divider")],1):t._e()}),0)},staticRenderFns:[]};var v=s("VU/8")(h,g,!1,function(t){s("HqCp")},"data-v-5e2d26ba",null).exports,f={name:"index",components:{RunTask:d,FinishedTask:v},data:function(){return{list:[],activeIndex:"1",Run:"",Finished:""}},mounted:function(){this.judge(),this.Run=!0;var t=parseInt(r.a.get("level"));t===this.PI?this.getTaskManager():t===this.PR?(this.getTaskManager(),this.getTaskLeader()):t===this.assistant?this.getTaskAll():this.getTaskMember()},methods:{getTaskAll:function(){c.a.get(this.url+"/module/all").then(this.getTaskSucc)},getTaskManager:function(){c.a.get(this.url+"/module/manager/"+r.a.get("id")).then(this.getTaskSucc)},getTaskMember:function(){c.a.get(this.url+"/module/member/"+r.a.get("id")).then(this.getTaskSucc)},getTaskLeader:function(){c.a.get(this.url+"/module/leader/"+r.a.get("id")).then(this.getTaskSucc)},getTaskSucc:function(t){if(200===t.status){var e=this.list.concat(t.data),s=new a.a;this.list=e.filter(function(t){return!s.has(t.id)&&s.set(t.id,1)})}},showRun:function(){this.Run=!0,this.Finished=!1},showFinished:function(){this.Finished=!1,this.Finished=!0,this.Run=!1},showNew:function(){this.Run=!1,this.Finished=!1},judge:function(){r.a.get("id")||this.$router.push("/loginError")}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"weui_tab"},[s("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#fff","text-color":"#303133","active-text-color":"#16b0ff"}},[s("div",{staticClass:"weui_navbar"},[s("el-menu-item",{staticClass:"weui_navbar_item ",attrs:{index:"1"},on:{click:t.showRun}},[t._v("正在进行")]),t._v(" "),s("el-menu-item",{staticClass:"weui_navbar_item ",attrs:{index:"2"},on:{click:t.showFinished}},[t._v("已完成")])],1)])],1),t._v(" "),t.Run?s("run-task",{staticClass:"componentsMargin",attrs:{task:t.list}}):t._e(),t._v(" "),t.Finished?s("finished-task",{staticClass:"componentsMargin",attrs:{task:t.list}}):t._e()],1)},staticRenderFns:[]};var m=s("VU/8")(f,k,!1,function(t){s("HOld")},"data-v-b5260656",null);e.default=m.exports},HOld:function(t,e){},HqCp:function(t,e){},g4TE:function(t,e){}});
//# sourceMappingURL=8.0cc7a91886235f52d298.js.map