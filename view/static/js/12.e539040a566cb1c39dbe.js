webpackJsonp([12],{"4ar8":function(t,e){},"E+7y":function(t,e){},ItrQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"header-left back-icon"},[e("router-link",{attrs:{to:"/newProject"}},[e("svg",{staticClass:"icon arrow",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#iconleft"}})])])],1),this._v(" "),e("div",{staticClass:"header-title v-center"},[this._v("\n    新建课题\n  ")]),this._v(" "),e("div",{staticClass:"header-right"})])},staticRenderFns:[]};var a=i("VU/8")({name:"newTaskHeader"},s,!1,function(t){i("4ar8")},"data-v-758f9736",null).exports,l=i("mtWM"),n=i.n(l),r={name:"newTaskForm",data:function(){return{item:{name:"",creatorID:parseInt(localStorage.getItem("id")),startTime:"",endTime:"",leaderID:"",content:"",target:"",participants:[]},list:[]}},methods:{getPIList:function(){n.a.get(this.url+"/user/level/"+this.PI).then(this.getPIListSucc)},getPIListSucc:function(t){(t=t.data)&&(this.LeaderList=t,this.list=this.list.concat(this.LeaderList))},getPRList:function(){n.a.get(this.url+"/user/level/"+this.PR).then(this.getPRListSucc)},getPRListSucc:function(t){(t=t.data)&&(this.FullList=t,this.list=this.list.concat(this.FullList),console.log(this.list))},getStudentList:function(){n.a.get(this.url+"/user/level/"+this.student).then(this.getStudentListSucc)},getStudentListSucc:function(t){(t=t.data)&&(this.StudentList=t)},saveTask:function(){sessionStorage.setItem("task[0]",this.item)}},mounted:function(){this.item.leaderID=-1,this.getPIList(),this.getPRList(),this.getStudentList()}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"weui-cell"},[t._m(0),t._v(" "),i("div",{staticClass:"weui-cell__bd "},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.name,expression:"item.name"}],staticClass:"weui-input",attrs:{pattern:"[0-9]*",placeholder:"请输入课题名称",type:"name"},domProps:{value:t.item.name},on:{input:function(e){e.target.composing||t.$set(t.item,"name",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"weui-cell"},[t._m(1),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.startTime,expression:"item.startTime"}],staticClass:"weui_input",attrs:{type:"date",value:""},domProps:{value:t.item.startTime},on:{input:function(e){e.target.composing||t.$set(t.item,"startTime",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"weui-cell"},[t._m(2),t._v(" "),i("div",{staticClass:"weui-cell__bd"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.item.endTime,expression:"item.endTime"}],staticClass:"weui_input",attrs:{type:"date",value:""},domProps:{value:t.item.endTime},on:{input:function(e){e.target.composing||t.$set(t.item,"endTime",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"weui_cell weui_cell_select"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.item.leaderID,expression:"item.leaderID"}],staticClass:"weui_select",on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.item,"leaderID",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"-1"}},[t._v("请选择课题负责人")]),t._v(" "),t._l(t.list,function(t){return i("option",{key:t.id,attrs:{label:t.name},domProps:{value:t.id}})})],2)])]),t._v(" "),i("div",{staticClass:"weui-cell weui-cells_form"},[t._m(3),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入课题主要内容",clearable:""},model:{value:t.item.content,callback:function(e){t.$set(t.item,"content",e)},expression:"item.content"}})],1),t._v(" "),i("div",{staticClass:"weui-cell weui-cells_form"},[t._m(4),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入课题考核指标",clearable:""},model:{value:t.item.target,callback:function(e){t.$set(t.item,"target",e)},expression:"item.target"}})],1),t._v(" "),i("div",{staticClass:"weui-btn-area"},[i("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"},on:{click:function(e){return t.saveTask()}}},[t._v("保存")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("课题名称")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("开始时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("结束时间")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("课题主要内容")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"weui-cell__hd"},[e("label",{staticClass:"weui-label"},[this._v("课题考核指标")])])}]};var u=i("VU/8")(r,c,!1,function(t){i("E+7y")},"data-v-b51bce80",null).exports,o={name:"newTask",components:{NTHeader:a,NTForm:u}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("n-t-header"),this._v(" "),e("n-t-form")],1)},staticRenderFns:[]};var m=i("VU/8")(o,d,!1,function(t){i("SExS")},"data-v-305fb560",null);e.default=m.exports},SExS:function(t,e){}});
//# sourceMappingURL=12.e539040a566cb1c39dbe.js.map