webpackJsonp([13],{"/uGz":function(e,t){},NcHX:function(e,t){},kfuL:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("div",{staticClass:"header-left back-icon"},[t("router-link",{attrs:{to:"/"}},[t("svg",{staticClass:"icon arrow",attrs:{"aria-hidden":"true"}},[t("use",{attrs:{"xlink:href":"#iconleft"}})])])],1),this._v(" "),t("div",{staticClass:"header-title v-center"},[this._v("\n    用户管理\n  ")]),this._v(" "),t("div",{staticClass:"header-right"})])},staticRenderFns:[]};var l=s("VU/8")({name:"userManageHeader"},a,!1,function(e){s("rfI7")},"data-v-2a3e5331",null).exports,i=s("mtWM"),n=s.n(i),r={name:"list",data:function(){return{userName:"",deleteUser:!1,levelChoose:!1,levelChange:Number,list:[],level:[{value:this.PI,label:"PI"},{value:this.PR,label:"PR"},{value:this.assistant,label:"assistant"},{value:this.student,label:"student"},{value:this.stranger,label:"stranger"}]}},methods:{getUserList:function(){n.a.get(this.url+"/user/list").then(this.getUserListSucc)},getUserListSucc:function(e){if(200===e.status){var t=e.data;this.list=t}},handleEdit:function(e,t){this.levelChoose=!0,sessionStorage.setItem("uid",t.id),this.levelChange=t.level,this.userName=t.name},handleDelete:function(e,t){this.deleteUser=!0,this.userName=t.name,sessionStorage.setItem("uid",t.id)},delUser:function(){var e=this;this.$axios({method:"delete",url:this.url+"/user/id/"+sessionStorage.getItem("uid")}).then(function(t){200===t.status&&(alert("删除成功！"),n.a.get(e.url+"/user/list").then(e.getUserListSucc),e.deleteUser=!1)}).catch(function(e){alert(e)})},updateLevel:function(){var e=this;this.$axios({method:"put",url:this.url+"/user/update",data:{id:parseInt(sessionStorage.getItem("uid")),level:this.levelChange}}).then(function(t){200===t.status?(alert("修改成功！"),n.a.get(e.url+"/user/list").then(e.getUserListSucc),e.levelChoose=!1):alert(t.data)}).catch(function(e){alert(e)})}},mounted:function(){this.getUserList()}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"",false:""}},[s("el-table-column",{attrs:{prop:"name",label:"姓名",width:"90"}}),e._v(" "),s("el-table-column",{attrs:{prop:"level",label:"Level",width:"90"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return e.handleEdit(t.$index,t.row)}}},[s("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#iconbianji3"}})])]),e._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return e.handleDelete(t.$index,t.row)}}},[s("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#iconicon_delete"}})])])]}}])})],1),e._v(" "),s("el-dialog",{attrs:{title:e.userName,visible:e.levelChoose,width:"70%"},on:{"update:visible":function(t){e.levelChoose=t}}},[s("el-radio-group",{model:{value:e.levelChange,callback:function(t){e.levelChange=t},expression:"levelChange"}},e._l(e.level,function(t){return s("div",{key:t.value},[s("el-radio",{attrs:{label:t.value}},[e._v(e._s(t.label))]),s("br")],1)}),0),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.levelChoose=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.updateLevel}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{attrs:{title:"提示",visible:e.deleteUser,width:"70%"},on:{"update:visible":function(t){e.deleteUser=t}}},[s("span",[e._v("确定删除"+e._s(e.userName)+"吗？")]),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.deleteUser=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.delUser}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=s("VU/8")(r,o,!1,function(e){s("/uGz")},"data-v-1eebec94",null).exports,c={name:"userManage",components:{UserManageHeader:l,UserManageList:u}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("user-manage-header"),this._v(" "),t("user-manage-list")],1)},staticRenderFns:[]};var v=s("VU/8")(c,d,!1,function(e){s("NcHX")},"data-v-38e803b1",null);t.default=v.exports},rfI7:function(e,t){}});
//# sourceMappingURL=13.7d8110c30757655b40bb.js.map