webpackJsonp([2],{"++E0":function(e,t){},"20+M":function(e,t){},"5uT3":function(e,t){},"B+5A":function(e,t){},"Bx/S":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});String;var s={name:"projectHeader",props:{pName:String},data:function(){return{dialogVisible:!1,level:localStorage.getItem("level")}},methods:{handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},deleteProject:function(){this.$axios.delete(this.url+"/project/delete"+this.$route.params.pId)}}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header"},[i("div",{staticClass:"header-left back-icon"},[i("router-link",{attrs:{to:"/project"}},[i("svg",{staticClass:"icon arrow",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#iconleft"}})])])],1),e._v(" "),i("div",{staticClass:"header-title v-center"},[e._v("\n    "+e._s(e.pName)+"\n  ")]),e._v(" "),i("div",{staticClass:"header-right"},[5===e.level?i("el-dropdown",{attrs:{trigger:"click"}},[i("svg",{staticClass:"icon ",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icondian2"}})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{icon:"el-icon-trash"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("删除项目")])],1)],1):e._e()],1),e._v(" "),i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("span",[e._v("确定删除该项目吗？")]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.deleteProject}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(s,a,!1,function(e){i("5uT3")},"data-v-41d7e885",null).exports,n=(Object,{name:"detail",props:{project:Object},mounted:function(){console.log(this.project)}}),c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-divider"),e._v(" "),i("div",[i("div",{staticClass:"weui-cell"},[e._v(e._s(e.project.content))]),e._v(" "),i("div",{staticClass:"weui-cells"},[i("div",{staticClass:"weui-cell"},[e._m(0),e._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[e._v("\n            "+e._s(e.project.startTime)+"\n          ")])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[e._v("\n            "+e._s(e.project.endTime)+"\n          ")])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(2),e._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[e._v("\n            "+e._s(e.project.leader.name)+"\n          ")])])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(3),e._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},e._l(e.project.participants,function(t){return 5==t.level?i("span",{key:t.id,staticClass:"nameMargin"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),0)])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(4),e._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},e._l(e.project.participants,function(t){return 3==t.level?i("span",{key:t.id,staticClass:"nameMargin"},[e._v("\n                "+e._s(t.name)+"\n            ")]):e._e()}),0)])]),e._v(" "),i("div",{staticClass:"weui-cell"},[e._m(5),e._v(" "),i("div",{staticClass:"weui-cell__bd cellMargin"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[e._v("\n            "+e._s(e.project.target)+"\n          ")])])])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("开始时间")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("结束时间")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("项目总负责人")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("项目参与老师")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("项目参与学生")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui-cell__hd"},[t("label",{staticClass:"weui-label"},[this._v("项目验收目标")])])}]};var r=i("VU/8")(n,c,!1,function(e){i("oYL/")},"data-v-bf1c48f4",null).exports,o=(Object,{name:"detailHeader",components:{Detail:r},props:{project:Object},methods:{handleChange:function(e){console.log(e)}}}),u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-collapse",{on:{change:this.handleChange}},[t("el-collapse-item",{attrs:{title:"点击查看项目详情",name:"1"}},[t("detail",{attrs:{project:this.project}})],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(o,u,!1,function(e){i("PXdK")},"data-v-53d3ca02",null).exports,_=i("mtWM"),v=i.n(_),m={name:"projectModule",data:function(){return{moduleList:[]}},methods:{getModuleList:function(){v.a.get(this.url+"/module/project/"+sessionStorage.getItem("projectId")).then(this.getModuleListSucc)},getModuleListSucc:function(e){(e=e.data)&&(this.moduleList=e,console.log(this.moduleList))}},created:function(){this.getModuleList()}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"weui_tab_bd_item "},[i("div",{staticClass:"weui-news"},[i("ul",{staticClass:"weui-news-list"},e._l(e.moduleList,function(t){return t.tag?e._e():i("li",{key:t.id},[i("router-link",{staticClass:"weui-news-item",attrs:{to:"/project/module/"+t.id}},[i("div",{staticClass:"weui-news-inners"},[i("div",{staticClass:"weui-news-title"},[e._v(e._s(t.name)+"\n")]),e._v(" "),i("div",{staticClass:"weui-news-text"},[i("p",{staticClass:"weui-news-p"},[e._v(e._s(t.content))])]),e._v(" "),i("div",{staticClass:"weui-news-info"},[i("div",{staticClass:"weui-news-infoitem"},[i("span",[i("svg",{staticClass:"icon iconMargin",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#iconicon_signal"}})]),e._v("\n                    "+e._s(t.leader.name)+"\n                  ")])])])])])],1)}),0)])])])},staticRenderFns:[]};var h=i("VU/8")(m,p,!1,function(e){i("B+5A")},"data-v-0a739dc9",null).exports,w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"weui_tab_bd_item "},[i("div",{staticClass:"weui-news"},[i("ul",{staticClass:"weui-news-list"},e._l(e.module,function(t){return t.tag?i("li",{key:t.id},[i("router-link",{staticClass:"weui-news-item",attrs:{to:"/project/module/"+t.id}},[i("div",{staticClass:"weui-news-inners"},[i("div",{staticClass:"weui-news-title"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"weui-news-text"},[i("p",{staticClass:"weui-news-p"},[e._v(e._s(t.content))])]),e._v(" "),i("div",{staticClass:"weui-news-info"},[i("div",{staticClass:"weui-news-infoitem"},[i("span",[i("svg",{staticClass:"icon iconMargin",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#iconicon_signal"}})]),e._v("\n                  "+e._s(t.leader.name)+"\n                ")])])])])])],1):e._e()}),0)])])])},staticRenderFns:[]};var f=i("VU/8")({name:"projectModule",props:{module:[]}},w,!1,function(e){i("++E0")},"data-v-801ee970",null).exports,C=i("mvHQ"),g=i.n(C),b=(Array,{name:"newModule",props:{leader:Array},data:function(){return{module:{name:"",creatorID:parseInt(localStorage.getItem("id")),startTime:"",endTime:"",content:"",leaderID:"",projectID:parseInt(sessionStorage.getItem("projectId")),target:""}}},methods:{getStudentList:function(){v.a.get(this.url+"/user/level/3").then(this.getStudentListSucc)},getStudentListSucc:function(e){console.log(e),(e=e.data)&&(this.StudentList=e,console.log(this.StudentList))},submit:function(){this.$axios({method:"post",url:this.url+"/module/",data:g()(this.module)}).then(function(e){console.log(e),alert("成功创建模块！")}).catch(function(e){alert(e)})}},mounted:function(){this.getStudentList()}}),j={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"weui_tab_bd_item"},[i("form",[i("div",{staticClass:"weui_cells"},[i("div",{staticClass:"weui_cell weui"},[e._m(0),e._v(" "),i("div",{staticClass:"weui_cell_bd weui_cell_primary "},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.module.name,expression:"module.name"}],staticClass:"weui_input",attrs:{type:"",value:"",placeholder:"请输入课题名称"},domProps:{value:e.module.name},on:{input:function(t){t.target.composing||e.$set(e.module,"name",t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui_cell"},[e._m(1),e._v(" "),i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.module.startTime,expression:"module.startTime"}],staticClass:"weui_input",attrs:{type:"date",value:""},domProps:{value:e.module.startTime},on:{input:function(t){t.target.composing||e.$set(e.module,"startTime",t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"weui_cell"},[e._m(2),e._v(" "),i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.module.endTime,expression:"module.endTime"}],staticClass:"weui_input",attrs:{type:"date",value:""},domProps:{value:e.module.endTime},on:{input:function(t){t.target.composing||e.$set(e.module,"endTime",t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"weui_cells"},[i("el-select",{staticClass:"selectStyle leaderChoose",attrs:{placeholder:"请选择课题负责人"},model:{value:e.module.leaderID,callback:function(t){e.$set(e.module,"leaderID",t)},expression:"module.leaderID"}},e._l(e.leader,function(t){return 4===t.level?i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}}):e._e()}),1)],1),e._v(" "),i("div",{staticClass:"weui_cells"},[i("div",{staticClass:"weui_cell"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.module.target,expression:"module.target"}],staticClass:"weui_textarea",attrs:{placeholder:"请输入课题指标",rows:"3"},domProps:{value:e.module.target},on:{input:function(t){t.target.composing||e.$set(e.module,"target",t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"weui_cells"},[i("div",{staticClass:"weui_cell"},[i("div",{staticClass:"weui_cell_bd weui_cell_primary"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.module.content,expression:"module.content"}],staticClass:"weui_textarea",attrs:{placeholder:"请输入课题主要内容",rows:"3"},domProps:{value:e.module.content},on:{input:function(t){t.target.composing||e.$set(e.module,"content",t.target.value)}}})])])]),e._v(" "),i("div",{staticClass:"weui-btn-area",on:{click:function(t){return e.submit()}}},[i("a",{staticClass:"weui-btn weui-btn_primary",attrs:{href:"javascript:;"}},[e._v("提交")])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui_cell_hd "},[t("label",{staticClass:"weui_label weui_cell_primary"},[this._v("名称")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui_cell_hd"},[t("label",{staticClass:"weui_label"},[this._v("开始")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"weui_cell_hd"},[t("label",{staticClass:"weui_label"},[this._v("结束")])])}]};var x=i("VU/8")(b,j,!1,function(e){i("m7Sz")},"data-v-381d0bc2",null).exports,$=(Object,{name:"moduleHeader",components:{RunModule:h,FinishedModule:f,NewModule:x},props:{project:Object},data:function(){return{activeIndex:"1",Run:"",Finished:"",New:""}},mounted:function(){this.Run=!0},methods:{handleSelect:function(e,t){console.log(e,t)},showRun:function(){this.Run=!0,this.New=!1,this.Finished=!1},showFinished:function(){this.Finished=!1,this.Finished=!0,this.Run=!1,this.New=!1},showNew:function(){this.Run=!1,this.New=!1,this.New=!0,this.Finished=!1}}}),M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"weui_tab"},[i("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#fff","text-color":"#303133","active-text-color":"#16b0ff"},on:{select:e.handleSelect}},[i("div",{staticClass:"weui_navbar"},[i("el-menu-item",{staticClass:"weui_navbar_item ",attrs:{index:"1"},on:{click:e.showRun}},[e._v("正在进行")]),e._v(" "),i("el-menu-item",{staticClass:"weui_navbar_item ",attrs:{index:"2"},on:{click:e.showFinished}},[e._v("已完成")]),e._v(" "),i("el-menu-item",{staticClass:"weui_navbar_item ",attrs:{index:"3"},on:{click:e.showNew}},[e._v("新建课题")])],1)])],1),e._v(" "),e.New?i("new-module",{staticClass:"componentsMargin",attrs:{leader:e.project.participants}}):e._e(),e._v(" "),e.Run?i("run-module",{staticClass:"componentsMargin"}):e._e(),e._v(" "),e.Finished?i("finished-module",{staticClass:"componentsMargin",attrs:{module:e.project.modules}}):e._e()],1)},staticRenderFns:[]};var y=i("VU/8")($,M,!1,function(e){i("20+M")},"data-v-22be2e21",null).exports,S={name:"project",components:{ProjectHeader:l,ProjectDetail:d,ProjectModuleHeader:y},data:function(){return{project:Object,module:[],pName:""}},methods:{getProject:function(){sessionStorage.setItem("projectId",this.$route.params.pId),v.a.get(this.url+"/project/id/"+this.$route.params.pId).then(this.getProjectSucc)},getProjectSucc:function(e){if(200===e.status){var t=e.data;this.project=t,this.module=t.modules,this.pName=t.name}}},created:function(){this.getProject()}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("project-header",{attrs:{pName:this.pName}}),this._v(" "),t("project-detail",{attrs:{project:this.project}}),this._v(" "),t("project-module-header",{attrs:{project:this.project}})],1)},staticRenderFns:[]};var I=i("VU/8")(S,k,!1,function(e){i("tdZT")},"data-v-8e23aa5c",null);t.default=I.exports},PXdK:function(e,t){},m7Sz:function(e,t){},"oYL/":function(e,t){},tdZT:function(e,t){}});
//# sourceMappingURL=2.9d8592e67241054ce846.js.map